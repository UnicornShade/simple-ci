# Запуск

Необходима нода 12 версии

```bash
npm i

npm start [port]
```

По умолчанию агент стартует на порту, который задан в .env.  
Для запуска более одного агента необходимо явно указывать порт.  
В конфиге `.env` задается адрес сервера и хост агента.  

При запуске билда, клонируется репозиторий в папку builds, делается чекаут на указанный коммит и стартует билд. После завершения билда агент шлет результаты на сервер.  
Если агент не смог соединиться с сервером, то процесс агента останавливается. В случае с результатами билда, в папке builds начинают копиться репозитории, которые желательно удалить.  
Агент никак не следит за состоянием сервера, если сервер отключился, то агенты продолжают работать. В данном случае необходимо завершать их вручную.  

Результат билда проверяется статусом завершенного процесса. 
